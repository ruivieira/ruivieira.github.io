<!doctype html><html lang=en-uk><head><script data-goatcounter=https://ruivieira-dev.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<script type=module src=/js/deeplinks/deeplinks.js></script>
<link rel=preload href=/lib/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/fonts/firacode/FiraCode-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/fonts/prociono/Prociono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=stylesheet href=/css/kbd.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Python Â· Rui Vieira</title><link rel=canonical href=/python.html><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="Python"><meta property="og:description" content="Main page for all things Python.
Python is a high-level, interpreted programming language that is widely used for web development, data analysis, scientific computing, and machine learning. It is known for its simplicity, readability, and flexibility, as well as its large and active developer community. Python has a large standard library and supports multiple programming paradigms, including object-oriented, imperative, and functional programming. It also has a dynamic type system and automatic memory management, which makes it a popular choice for beginners and experienced developers alike."><meta property="og:type" content="article"><meta property="og:url" content="/python.html"><meta property="article:section" content="posts"><meta property="article:modified_time" content="2022-12-16T21:34:06+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Python"><meta name=twitter:description content="Main page for all things Python.
Python is a high-level, interpreted programming language that is widely used for web development, data analysis, scientific computing, and machine learning. It is known for its simplicity, readability, and flexibility, as well as its large and active developer community. Python has a large standard library and supports multiple programming paradigms, including object-oriented, imperative, and functional programming. It also has a dynamic type system and automatic memory management, which makes it a popular choice for beginners and experienced developers alike."><link rel=stylesheet href=/css/styles.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-eye fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-eye fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/map/>All pages</a></li><li><a href=/search.html>Search</a></li></ul></span><br><div id=share style=display:none></div><div id=toc><h4>Contents</h4><nav id=TableOfContents><ul><li><a href=#installation>Installation</a><ul><li><a href=#anaconda>Anaconda</a></li></ul></li><li><a href=#pip>pip</a><ul><li><a href=#list-outdated-packages>List outdated packages</a></li><li><a href=#no-binary-install>No binary install</a></li></ul></li><li><a href=#modules>Modules</a><ul><li><a href=#relative-import-in-python-3>Relative import in Python 3</a></li><li><a href=#ternary-operator>Ternary operator</a></li><li><a href=#for--else>for &mldr; else</a></li><li><a href=#boolean-unravelling>Boolean unravelling</a></li><li><a href=#the-many-faces-of-print>The many faces of <code>print</code></a></li><li><a href=#filesystem-operations>Filesystem operations</a></li><li><a href=#date-operations>Date operations</a></li></ul></li><li><a href=#strings>Strings</a></li><li><a href=#packaging>Packaging</a><ul><li><a href=#wheels-or-eggs>Wheels or Eggs?</a></li><li><a href=#pyoxidizer>PyOxidizer</a></li></ul></li></ul></nav><h4>Related</h4><nav><ul><li class="header-post toc"><span class=backlink-count>4</span>
<a href=/doom-emacs.html>DOOM Emacs</a></li><li class="header-post toc"><span class=backlink-count>2</span>
<a href=/time-series-analysis.html>Time-series analysis</a></li><li class="header-post toc"><span class=backlink-count>2</span>
<a href=/cookiecutter-data-science.html>Cookiecutter Data Science</a></li><li class="header-post toc"><span class=backlink-count>2</span>
<a href=/python-environments.html>Python environments</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/python-typing.html>Python typing</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/streaming-statistics.html>Streaming statistics</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/random-walk.html>Random walk</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/scikit-learn.html>Scikit-learn</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/a-simple-python-benchmark-exercise.html>A simple Python benchmark exercise</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/python-code-style.html>Python code style</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/python-abstract-classes.html>Python Abstract classes</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/python-monkey-patching-for-readability.html>Python monkey patching (for readability)</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href>Index</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/jpype.html>JPype</a></li><li class="header-post toc"><span class=backlink-count>1</span>
<a href=/pandas.html>Pandas</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Python</h1><div class=meta><div class=postdate>Updated <time datetime="2022-12-16 21:34:06 +0000 GMT" itemprop=datePublished>2022-12-16</time>
<span class=commit-hash>(<a href=/log/index.html#a004dd5>a004dd5</a>)</span></div></div></header><div class=content itemprop=articleBody><p>Main page for all things Python.</p><p>Python is a high-level, interpreted programming language that is widely used for web development, data analysis, scientific computing, and <a href=/machine-learning.html>machine learning</a>. It is known for its simplicity, readability, and flexibility, as well as its large and active developer community. Python has a large standard library and supports multiple programming paradigms, including object-oriented, imperative, and functional programming. It also has a dynamic type system and automatic memory management, which makes it a popular choice for beginners and experienced developers alike.</p><p>Other pages cover specific topics, such as:</p><ul><li><a href=/python-environments.html>Python environments</a></li><li><a href=/python-code-style.html>Code style</a></li><li>Python collections</li><li><a href=/python-pweave.html>Python Pweave</a></li><li><a href=/pandas.html>Pandas</a></li><li>Notes on <a href=/python-grammar-of-graphics.html>Python grammar of graphics</a></li><li><a href=/python-monkey-patching-for-readability.html>Monkey patching</a></li><li><a href=/python-abstract-classes.html>Abstract classes</a></li><li><a href=/python-typing.html>Types</a></li></ul><h2 id=installation>Installation</h2><h3 id=anaconda>Anaconda</h3><p>An option to install Python is to use Anaconda<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.
Download the appropriate installation file from <a href=https://www.anaconda.com/products/individual>https://www.anaconda.com/products/individual</a>.
And then run the installer with, <em>e.g.</em>, <code>sh ./Anaconda3-2021.11-Linux-x86_64.sh</code>. The installation would typically be under <code>$HOME/anaconda3</code>.
There is a page dedicated to configuring and using [<a href=#anaconda>Anaconda</a>].</p><pre><code># Language changes
</code></pre><p>In 2021, the Python steering council <a href=https://lwn.net/ml/python-dev/61D540B9-2FE5-4CC8-8038-5654B1D325C7@python.org/>accepted the proposal</a> to add a pattern-matching primitive to the language.
The proposal consists of <a href=https://www.python.org/dev/peps/pep-0634/>PEP634</a> along with <a href=https://www.python.org/dev/peps/pep-0635/>PEP635</a> and <a href=https://www.python.org/dev/peps/pep-0636/>PEP636</a>.</p><ul><li><a href>pages/backlog/Python 3.10 Cool New Features for You to Try</a></li><li><a href>Python 3.9 changes</a><ul><li>These include <a href>new dictionary operators</a>, <a href>topological ordering</a>, <a href>IPv6 scoped addresses</a>, new <a href>math</a> and <a href>string</a> functions, and <a href>HTTP codes</a>.</li></ul></li></ul><h2 id=pip>pip</h2><h3 id=list-outdated-packages>List outdated packages</h3><p>To see all outdate packages in your environment, use</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip list --outdated
</span></span></code></pre></div><h3 id=no-binary-install>No binary install</h3><p>To install a package from source with <code>pip</code> specify</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>pip install --no-binary <span style=color:teal>$PACKAGE</span>
</span></span></code></pre></div><p>Since <code>requirements</code> files are passed as command-line options to <code>pip</code>, you can also specify it as</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>some-package
</span></span><span style=display:flex><span>--no-binary
</span></span><span style=display:flex><span>another-package
</span></span></code></pre></div><p>Additionaly this will also work on <code>setup.py</code>&rsquo;s <code>install_requires</code>. For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>setup(
</span></span><span style=display:flex><span>    install_requires<span style=font-weight:700>=</span>[
</span></span><span style=display:flex><span>        <span style=color:#b84>&#34;some-package==0.0.1 --no-binary&#34;</span>
</span></span><span style=display:flex><span>])
</span></span></code></pre></div><h2 id=modules>Modules</h2><h3 id=relative-import-in-python-3>Relative import in Python 3</h3><p>If a relative import is present inside a Python 3 file (<em>e.g.</em> <code>file1</code>) inside a module (<em>e.g.</em> <code>mymod</code>), say</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>from</span> <span style=color:#555>.foo</span> <span style=font-weight:700>import</span> bar   
</span></span></code></pre></div><p>We will encounter the error</p><pre><code>ImportError: attempted relative import with no known parent package
</code></pre><p>A possible solution is to include the following in your module&rsquo;s <code>__init__.py</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>import</span> <span style=color:#555>os</span><span style=font-weight:700>,</span> <span style=color:#555>sys</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sys<span style=font-weight:700>.</span>path<span style=font-weight:700>.</span>append(os<span style=font-weight:700>.</span>path<span style=font-weight:700>.</span>dirname(os<span style=font-weight:700>.</span>path<span style=font-weight:700>.</span>realpath(__file__)))
</span></span></code></pre></div><h3 id=ternary-operator>Ternary operator</h3><p>Ternary operators help reduce the amount of very small <sub>if-else</sub> blocks.
Python does not have a ternary operator <a href=https://en.wikipedia.org/wiki/%3F:#C>like</a> <a href=https://en.wikipedia.org/wiki/%3F:#JavaScript>other</a> <a href=https://en.wikipedia.org/wiki/%3F:#Ruby>languages</a>. However, conditionals can be used to the same effect:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>y <span style=font-weight:700>=</span> <span style=color:#099>7</span>
</span></span><span style=display:flex><span>x <span style=font-weight:700>=</span> <span style=color:#099>0</span> <span style=font-weight:700>if</span> (y <span style=font-weight:700>==</span> <span style=color:#099>1</span>) <span style=font-weight:700>else</span> <span style=color:#099>2</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(x)
</span></span></code></pre></div><pre><code>1
</code></pre><h3 id=for--else>for &mldr; else</h3><p><code>for-else</code> blocks allow to capture if a condition was met inside a <code>for-loop</code>. For instance, consider the following <code>for-loop</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>locations <span style=font-weight:700>=</span> [<span style=color:#b84>&#39;a&#39;</span>, <span style=color:#b84>&#39;b&#39;</span>, <span style=color:#b84>&#39;c&#39;</span>, <span style=color:#b84>&#39;d&#39;</span>, <span style=color:#b84>&#39;f&#39;</span>]
</span></span><span style=display:flex><span>treasure <span style=font-weight:700>=</span> <span style=font-weight:700>False</span>
</span></span><span style=display:flex><span><span style=font-weight:700>for</span> location <span style=font-weight:700>in</span> locations:
</span></span><span style=display:flex><span>   <span style=font-weight:700>if</span> location <span style=font-weight:700>==</span> <span style=color:#b84>&#39;x&#39;</span>:
</span></span><span style=display:flex><span>       treasure <span style=font-weight:700>=</span> <span style=font-weight:700>True</span>
</span></span><span style=display:flex><span>       <span style=font-weight:700>break</span>
</span></span><span style=display:flex><span><span style=font-weight:700>if</span> <span style=font-weight:700>not</span> treasure:
</span></span><span style=display:flex><span>   <span style=color:#999>print</span>(<span style=color:#b84>&#34;X marks the spot, but not found&#34;</span>)
</span></span></code></pre></div><pre><code>X marks the spot, but not found
</code></pre><p>We can simplify the above logic using a <sub>for-else</sub> loop:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>for</span> location <span style=font-weight:700>in</span> locations:
</span></span><span style=display:flex><span>   <span style=font-weight:700>if</span> location <span style=font-weight:700>==</span> <span style=color:#b84>&#39;x&#39;</span>:
</span></span><span style=display:flex><span>       <span style=font-weight:700>break</span>
</span></span><span style=display:flex><span><span style=font-weight:700>else</span>:
</span></span><span style=display:flex><span>   <span style=color:#999>print</span>(<span style=color:#b84>&#34;X marks the spot, but not found&#34;</span>)
</span></span></code></pre></div><pre><code>X marks the spot, but not found
</code></pre><h3 id=boolean-unravelling>Boolean unravelling</h3><h4 id=and>and</h4><p>unravelling the <code>and</code> boolean operator.
The operation can be rewritten as the function <code>u_and</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> <span style=color:#900;font-weight:700>u_and</span>(a, b):
</span></span><span style=display:flex><span>   result <span style=font-weight:700>=</span> a
</span></span><span style=display:flex><span>   <span style=font-weight:700>if</span> a:
</span></span><span style=display:flex><span>      result <span style=font-weight:700>=</span> b
</span></span><span style=display:flex><span>   <span style=font-weight:700>return</span> result
</span></span></code></pre></div><p>For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>True</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>None</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>and</span> b, u_and(a, b))
</span></span><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>True</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>True</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>and</span> b, u_and(a, b))
</span></span><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>False</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>True</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>and</span> b, u_and(a, b))
</span></span></code></pre></div><pre><code>None None
True True
False False
</code></pre><h4 id=or>or</h4><p>On the other hand, <code>or</code> cand be unravelled as:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>def</span> <span style=color:#900;font-weight:700>u_or</span>(a, b):
</span></span><span style=display:flex><span>   result <span style=font-weight:700>=</span> a
</span></span><span style=display:flex><span>   <span style=font-weight:700>if</span> <span style=font-weight:700>not</span> a:
</span></span><span style=display:flex><span>      result <span style=font-weight:700>=</span> b
</span></span><span style=display:flex><span>   <span style=font-weight:700>return</span> result
</span></span></code></pre></div><p>As an example:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>True</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>None</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>or</span> b, u_or(a, b))
</span></span><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>True</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>True</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>or</span> b, u_or(a, b))
</span></span><span style=display:flex><span>a <span style=font-weight:700>=</span> <span style=font-weight:700>False</span> ; b <span style=font-weight:700>=</span> <span style=font-weight:700>True</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(a <span style=font-weight:700>or</span> b, u_or(a, b))
</span></span></code></pre></div><pre><code>True True
True True
True True
</code></pre><h3 id=the-many-faces-of-print>The many faces of <code>print</code></h3><h4 id=concatenating-arguments>Concatenating arguments</h4><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>var1 <span style=font-weight:700>=</span> <span style=color:#b84>&#34;Foo&#34;</span>
</span></span><span style=display:flex><span>var2 <span style=font-weight:700>=</span> <span style=color:#b84>&#34;Bar&#34;</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(<span style=color:#b84>&#34;I am &#34;</span>, var1, <span style=color:#b84>&#34; not &#34;</span>, var2)
</span></span></code></pre></div><pre><code>I am  Foo  not  Bar
</code></pre><p>It is also possible to use separators by using the <code>sep</code> argument:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>var1 <span style=font-weight:700>=</span> <span style=color:#b84>&#34;Foo&#34;</span>
</span></span><span style=display:flex><span>var2 <span style=font-weight:700>=</span> <span style=color:#b84>&#34;Bar&#34;</span>
</span></span><span style=display:flex><span><span style=color:#999>print</span>(<span style=color:#b84>&#34;I am&#34;</span>, var1, <span style=color:#b84>&#34;not&#34;</span>, var2, sep<span style=font-weight:700>=</span><span style=color:#b84>&#34;!&#34;</span>)
</span></span></code></pre></div><pre><code>I am!Foo!not!Bar
</code></pre><h4 id=string-termination>String termination</h4><p>The <code>end</code> argument allows to specify the suffix of the whole string.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#999>print</span>(<span style=color:#b84>&#34;This is on radio&#34;</span>, end<span style=font-weight:700>=</span><span style=color:#b84>&#34; (over)&#34;</span>)
</span></span></code></pre></div><pre><code>This is on radio (over)
</code></pre><h3 id=filesystem-operations>Filesystem operations</h3><h4 id=get-home-directory>Get home directory</h4><p>For Python +3.5:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>from</span> <span style=color:#555>pathlib</span> <span style=font-weight:700>import</span> Path
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>home <span style=font-weight:700>=</span> <span style=color:#999>str</span>(Path<span style=font-weight:700>.</span>home())
</span></span><span style=display:flex><span><span style=color:#999>print</span>(home)
</span></span></code></pre></div><pre><code>/Users/rui
</code></pre><h4 id=list-files-recursively>List files recursively</h4><p>For Python +3.5, use <code>glob</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>import</span> <span style=color:#555>glob</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># root_dir with trailing slash (i.e. /root/dir/)</span>
</span></span><span style=display:flex><span>root_dir <span style=font-weight:700>=</span> <span style=color:#b84>&#34;./&#34;</span>
</span></span><span style=display:flex><span><span style=font-weight:700>for</span> filename <span style=font-weight:700>in</span> glob<span style=font-weight:700>.</span>iglob(root_dir <span style=font-weight:700>+</span> <span style=color:#b84>&#39;**/*.md&#39;</span>, recursive<span style=font-weight:700>=</span><span style=font-weight:700>True</span>):
</span></span><span style=display:flex><span>     <span style=color:#999>print</span>(filename[:<span style=font-weight:700>-</span><span style=color:#099>3</span>])
</span></span></code></pre></div><pre><code>./Python
./Python code style
./Python Abstract classes
./New Features in Python 3.9
./Understanding Decorators in Python
</code></pre><h3 id=date-operations>Date operations</h3><h4 id=offset-aware-operations>Offset-aware operations</h4><p>Let&rsquo;s say you have a date without timezone (<em>offset naive</em>), for instance:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>from</span> <span style=color:#555>datetime</span> <span style=font-weight:700>import</span> datetime, timezone
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ts <span style=font-weight:700>=</span> datetime<span style=font-weight:700>.</span>now()<span style=font-weight:700>.</span>replace(tzinfo<span style=font-weight:700>=</span><span style=font-weight:700>None</span>)
</span></span><span style=display:flex><span><span style=color:#999>print</span>(ts)
</span></span></code></pre></div><pre><code>2022-08-07 14:08:13.498348
</code></pre><p>And you want to calculate the $\delta$ with a <sub>datetime</sub> which <em>has</em> a time (<em>offset aware</em>). We&rsquo;ll get an error.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=font-weight:700>try</span>:
</span></span><span style=display:flex><span>   delta <span style=font-weight:700>=</span> datetime<span style=font-weight:700>.</span>now(timezone<span style=font-weight:700>.</span>utc) <span style=font-weight:700>-</span> ts
</span></span><span style=display:flex><span><span style=font-weight:700>except</span> <span style=color:#900;font-weight:700>TypeError</span> <span style=font-weight:700>as</span> error:
</span></span><span style=display:flex><span>   <span style=color:#999>print</span>(error)
</span></span></code></pre></div><pre><code>can't subtract offset-naive and offset-aware datetimes
</code></pre><p>The solution is to add a timezone to the <em>offset naive</em> date. For instance:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ts <span style=font-weight:700>=</span> datetime<span style=font-weight:700>.</span>now(timezone<span style=font-weight:700>.</span>utc)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>delta <span style=font-weight:700>=</span> datetime<span style=font-weight:700>.</span>now(timezone<span style=font-weight:700>.</span>utc) <span style=font-weight:700>-</span> ts
</span></span><span style=display:flex><span>delta
</span></span></code></pre></div><pre><code>datetime.timedelta(microseconds=55)
</code></pre><h2 id=strings>Strings</h2><ul><li><a href>Python strings are immutable, but only sometimes</a></li></ul><h2 id=packaging>Packaging</h2><h3 id=wheels-or-eggs>Wheels or Eggs?</h3><p>Wheels seem<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> to be dominating.<figure><img src=/assets/Pasted%20image%2020221101171139.png alt="Pasted image 20221101171139.png"></figure></p><h3 id=pyoxidizer>PyOxidizer</h3><p>An alternative to package Python applications is <a href=https://pyoxidizer.readthedocs.io/en/latest/index.html>PyOxidizer</a>.</p><blockquote><p>PyOxidizer is often used to generate binaries embedding a Python interpreter and a custom Python application. However,
its configuration files support additional functionality, such as the ability to produce Windows</p></blockquote><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.anaconda.com/>https://www.anaconda.com/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://twitter.com/di_codes/status/1486398470479130624>https://twitter.com/di_codes/status/1486398470479130624</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/map/>All pages</a></li><li><a href=/search.html>Search</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#installation>Installation</a><ul><li><a href=#anaconda>Anaconda</a></li></ul></li><li><a href=#pip>pip</a><ul><li><a href=#list-outdated-packages>List outdated packages</a></li><li><a href=#no-binary-install>No binary install</a></li></ul></li><li><a href=#modules>Modules</a><ul><li><a href=#relative-import-in-python-3>Relative import in Python 3</a></li><li><a href=#ternary-operator>Ternary operator</a></li><li><a href=#for--else>for &mldr; else</a></li><li><a href=#boolean-unravelling>Boolean unravelling</a></li><li><a href=#the-many-faces-of-print>The many faces of <code>print</code></a></li><li><a href=#filesystem-operations>Filesystem operations</a></li><li><a href=#date-operations>Date operations</a></li></ul></li><li><a href=#strings>Strings</a></li><li><a href=#packaging>Packaging</a><ul><li><a href=#wheels-or-eggs>Wheels or Eggs?</a></li><li><a href=#pyoxidizer>PyOxidizer</a></li></ul></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=%2fpython.html" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=%2fpython.html&text=Python" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=%2fpython.html&title=Python" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=%2fpython.html&is_video=false&description=Python" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Python&body=Check out this article: %2fpython.html" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=%2fpython.html&title=Python" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=%2fpython.html&title=Python" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=%2fpython.html&name=Python&description=Main%20page%20for%20all%20things%20Python.%0aPython%20is%20a%20high-level%2c%20interpreted%20programming%20language%20that%20is%20widely%20used%20for%20web%20development%2c%20data%20analysis%2c%20scientific%20computing%2c%20and%20machine%20learning.%20It%20is%20known%20for%20its%20simplicity%2c%20readability%2c%20and%20flexibility%2c%20as%20well%20as%20its%20large%20and%20active%20developer%20community.%20Python%20has%20a%20large%20standard%20library%20and%20supports%20multiple%20programming%20paradigms%2c%20including%20object-oriented%2c%20imperative%2c%20and%20functional%20programming.%20It%20also%20has%20a%20dynamic%20type%20system%20and%20automatic%20memory%20management%2c%20which%20makes%20it%20a%20popular%20choice%20for%20beginners%20and%20experienced%20developers%20alike." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=%2fpython.html&t=Python" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2022 Rui Vieira</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/map/>All pages</a></li><li><a href=/search.html>Search</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/css/fa.min.css><script src=/js/jquery-3.6.0.min.js></script>
<script src=/js/mark.min.js></script>
<script src=/js/main.js></script></html>